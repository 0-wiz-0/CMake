<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

<!--#include virtual="/CMake/HTML/Head.html"-->

<body bgcolor="#FFFFFF" leftmargin=0 topmargin=0 text="black" >

<!--#include virtual="/CMake/HTML/Table.html"-->

<tr>
<!--#include virtual="/CMake/HTML/SideBar.html"-->

    <td width="550" valign="top" bgcolor="#FFFFFF">
    <div align="left">
    <font size=5>Help improve the quality of CMake</font> by running a 
    nightly dashboard build on your machine.  If you would like to contribute
 to the CMake project by building a
         nightly dashboard build, you can follow these instructions.
         <ul>
         <li>Obtain a copy of the Dart (<a href="http://public.kitware.com/Dart">http://public.kitware.com/Dart</a>) client from cvs.
         <br>
         cvs -d :pserver:anonymous@public.kitware.com:/Dart/cvsroot login
         (password is dart)
         <br>
         cvs -d :pserver:anonymous@public.kitware.com:/Dart/cvsroot co Dart
         <br>
         <li> Install tcl.
         <li> Configure your CMake build to find Tcl and Dart.
         <li> Test your setup by typing make Experimental, then check the CMake dashboard in the next hour to see if your results are available.
         </ul>
         
         Once you are able to submit experimental builds, the next step is setting up a nightly build.   The nightly build works in almost the same way, but 
needs to be run each night by crontab or some other scheduling program.  Getting environment variables correct can be difficult.   Several examples are included here.
<h2>Examples</h2>
     <ul>
     <li> Windows Visual C++ 6.0 Nightly build
<br>
cmakeNightlyVC.sh - A cygwin shell script to build a cmake dashboard.
<PRE>
cd //c/hoffman/Dart
cvs update -dAP
cd //c/hoffman/CMake
cvs update -dAP
cd //c/hoffman
rm -rf CMake-vc-dashboard
mkdir CMake-vc-dashboard
cd CMake-vc-dashboard
echo -e DART_ROOT:PATH=c:/Hoffman/Dart\\nMAKEPROGRAM:FILEPATH=msdev > CMakeCache.txt
/cygdrive/c/hoffman/CMake/Source/cmake ../CMake
msdev CMake.dsw /MAKE "Nightly - Win32 Debug" /BUILD
</PRE> 
<br>
cmakeNightlyVC.bat - A windows batch file that can run cmakeNightlyVC.sh and be used from the microsoft program scheduler.
<PRE>
bash --login //c/Hoffman/cmakeNightlyVC.sh
</PRE>
<br>
<li> Solaris CC crontab scripts
<br>
dashboardCMake.csh -- a csh script to build cmake for a sun
<PRE>
#!/bin/csh
cd ${HOME}/Dart
cvs update -dAP
cd ${HOME}/CMake
cvs update -dAP
cd ${HOME}
# clean the entire build directory
rm -rf CMake-CC-dashboard
mkdir CMake-CC-dashboard
cd CMake-CC-dashboard
# preload the Dart path into the cache
echo DART_ROOT:PATH=/disk2/home/hoffman/Dart > CMakeCache.txt
setenv CXX CC
setenv CC cc
setenv CXXFLAGS ""
../CMake/configure
gmake Nightly
</PRE>
</PRE>
<br>dashboardCronEntry.csh -- a csh script that can be run from cron
<PRE>
<PRE>
#!/bin/csh
/bin/rm -f nightlyBuild.out
csh ${HOME}/dashboardCMake.csh > nightlyBuild.out
</PRE>
</PRE
<br> contab entry for above
<PRE>
<PRE>
# do a nightly cmake
0 4 * * * /disk2/home/hoffman/dashboardCronEntry.csh
</PRE>
</PRE>
    </div>
    </td>
</tr>

</table>

</td>
</tr>
</table>

</body>
</html>
