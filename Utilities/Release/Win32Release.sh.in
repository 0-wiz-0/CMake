# this script is designed to be run from a UNIX like shell under Windows 
# and has some hard coded assumptions. Do not just randomly run this script 
# without looking it over first.

# Release version number.
TAG="CMake-@CMake_VERSION_MAJOR@-@CMake_VERSION_MINOR@-@CMake_VERSION_PATCH@"
VERSION="@CMake_VERSION_MAJOR@.@CMake_VERSION_MINOR@.@CMake_VERSION_PATCH@"

SCPID="kitware@public.kitware.com"

# CVSROOT setting used to check out Cmake.
CVSROOT=":pserver:anoncvs@www.cmake.org:/cvsroot/CMake"

# build the NSI
"@NSIS_MAKENSIS@" "@PROJECT_BINARY_DIR@/Utilities/Release/@PROJECT_NAME@.nsi"

#scp cmake-${VERSION}-win32.exe ${SCPID}:/projects/FTP/pub/cmake/v@CMake_VERSION_MAJOR@.@CMake_VERSION_MINOR@

# tag the tree
#cd "@PROJECT_SOURCE_DIR@"
#cvs tag -F ${TAG}

# build the winzip src file
#cd C:
#rm -rf @PROJECT_NAME@
#cvs -d ${CVSROOT} export -r ${TAG} @PROJECT_NAME@

#cd @PROJECT_NAME@
#"@WINZIP_WZZIP@" -r -P cmake-${VERSION}.zip
#scp cmake-${VERSION}.zip ${SCPID}:/projects/FTP/pub/cmake/v@CMake_VERSION_MAJOR@.@CMake_VERSION_MINOR@
